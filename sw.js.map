{"mappings":"ACEA,IAAM,EAAiB,CACrB,eAAgB,uBAClB,EAEA,KAAK,gBAAgB,CAAC,WAAY,SAAC,CAAnC,EACE,IAAM,EAAqB,OAAO,IAAI,CAAC,GAAgB,GAAG,CACxD,SAAC,CADH,EACW,OAAA,CAAc,CAAC,EAAI,A,GAG9B,EAAM,SAAS,CACb,OAAO,IAAI,GAAG,IAAI,CAAC,SAAC,CADtB,EAEI,OAAA,QAAQ,GAAG,CACT,EAAW,GAAG,CAAC,SAAC,CADlB,EAEI,GAAI,AAA0C,KAA1C,EAAmB,OAAO,CAAC,GAC7B,OAAO,OAAO,MAAM,CAAC,EAEzB,G,GAIR,GAEA,KAAK,gBAAgB,CAAC,QAAS,SAAC,CAAhC,EACE,EAAM,WAAW,CACf,MAAM,EAAM,OAAO,EAChB,IAAI,CAAC,SAAC,CAFX,EAGM,GAAG,CAAC,GAAY,AAAoB,MAApB,EAAS,MAAM,EAAY,AAAkB,UAAlB,EAAS,IAAI,CACtD,OAAO,EAGT,IAAM,EAAkB,EAAS,KAAK,GAOtC,OALA,OAAO,IAAI,CAAC,CAAc,CAAC,eAAe,EACvC,IAAI,CAAC,SAAS,CAAK,EAClB,EAAM,GAAG,CAAC,EAAM,OAAO,CAAE,EAC3B,GAEK,CACT,GACC,KAAK,CAAC,WACL,OAAO,OAAO,IAAI,CAAC,CAAc,CAAC,eAAe,EAC9C,IAAI,CAAC,SAAC,CADT,EACmB,OAAA,EAAM,KAAK,CAAC,EAAM,OAAO,C,EAC9C,GAEN","sources":["<anon>","source/sw.js"],"sourcesContent":["var CACHE_VERSION = 5;\nvar CURRENT_CACHES = {\n    'read-through': 'read-through-cache-v' + CACHE_VERSION\n};\nself.addEventListener('activate', function(event) {\n    var expectedCacheNames = Object.keys(CURRENT_CACHES).map(function(key) {\n        return CURRENT_CACHES[key];\n    });\n    event.waitUntil(caches.keys().then(function(cacheNames) {\n        return Promise.all(cacheNames.map(function(cacheName) {\n            if (expectedCacheNames.indexOf(cacheName) === -1) return caches.delete(cacheName);\n        }));\n    }));\n});\nself.addEventListener('fetch', function(event) {\n    event.respondWith(fetch(event.request).then(function(response) {\n        if (!response || response.status !== 200 || response.type !== 'basic') return response;\n        var responseToCache = response.clone();\n        caches.open(CURRENT_CACHES['read-through']).then(function(cache) {\n            cache.put(event.request, responseToCache);\n        });\n        return response;\n    }).catch(function() {\n        return caches.open(CURRENT_CACHES['read-through']).then(function(cache) {\n            return cache.match(event.request);\n        });\n    }));\n});\n\n//# sourceMappingURL=sw.js.map\n","\r\nconst CACHE_VERSION = 5\r\nconst CURRENT_CACHES = {\r\n  'read-through': 'read-through-cache-v' + CACHE_VERSION\r\n}\r\n\r\nself.addEventListener('activate', (event) => {\r\n  const expectedCacheNames = Object.keys(CURRENT_CACHES).map(\r\n    (key) => CURRENT_CACHES[key]\r\n  )\r\n\r\n  event.waitUntil(\r\n    caches.keys().then((cacheNames) =>\r\n      Promise.all(\r\n        cacheNames.map((cacheName) => {\r\n          if (expectedCacheNames.indexOf(cacheName) === -1) {\r\n            return caches.delete(cacheName)\r\n          }\r\n        })\r\n      )\r\n    )\r\n  )\r\n})\r\n\r\nself.addEventListener('fetch', (event) => {\r\n  event.respondWith(\r\n    fetch(event.request)\r\n      .then((response) => {\r\n        if(!response || response.status !== 200 || response.type !== 'basic') {\r\n          return response\r\n        }\r\n\r\n        const responseToCache = response.clone()\r\n\r\n        caches.open(CURRENT_CACHES['read-through'])\r\n          .then(function(cache) {\r\n            cache.put(event.request, responseToCache)\r\n          })\r\n\r\n        return response\r\n      })\r\n      .catch(() => {\r\n        return caches.open(CURRENT_CACHES['read-through'])\r\n          .then((cache) => cache.match(event.request))\r\n      })\r\n  )\r\n})\r\n"],"names":["CURRENT_CACHES","self","addEventListener","event","expectedCacheNames","Object","keys","map","key","waitUntil","caches","then","cacheNames","Promise","all","cacheName","indexOf","delete","respondWith","fetch","request","response","status","type","responseToCache","clone","open","cache","put","catch","match"],"version":3,"file":"sw.js.map"}