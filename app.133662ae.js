function e(e,t,n,i){Object.defineProperty(e,t,{get:n,set:i,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},i={},o=t.parcelRequire94c2;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in i){var t=i[e];delete i[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){i[e]=t},t.parcelRequire94c2=o);var r=o.register;r("jz7dE",function(t,n){e(t.exports,"register",function(){return i},function(e){return i=e});var i,o=new Map;i=function(e,t){for(var n=0;n<t.length-1;n+=2)o.set(t[n],{baseUrl:e,path:t[n+1]})}}),r("jfr6k",function(t,n){e(t.exports,"getBundleURL",function(){return i},function(e){return i=e});var i,o={};i=function(e){var t=o[e];return t||(t=function(){try{throw Error()}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/[^)\n]+/g);if(e)return(""+e[2]).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}return"/"}(),o[e]=t),t}}),o("jz7dE").register(o("jfr6k").getBundleURL("5iIeY"),JSON.parse('["5iIeY","app.133662ae.js","d1tuc","sw.js"]')),document.getElementById("app");const l=document.getElementById("canvas"),s=document.getElementById("healthbar"),c=l.getContext("2d"),a="#990003",d="#f1f7ff",f="#00BFFF";s.style.backgroundColor=d,s.style.width="0%";let u=100;function h(){u=100,window.innerWidth<446?u=72:window.innerWidth>1024&&(u=128),u=100,l.height=4*(u+0)+0,l.width=4*(u+0)+0}function g(e,t,n){c.fillStyle=n;let i=t*(u+0)+0,o=e*(u+0)+0;c.fillRect(o,i,u,u)}function p(e=a,t=d){c.fillStyle=e,c.fillRect(0,0,(u+0)*4+0,(u+0)*4+0),c.fillStyle=t;for(let e=0;e<4;++e)for(let t=0;t<4;++t){let n=e*(u+0)+0,i=t*(u+0)+0;c.fillRect(i,n,u,u)}}h();let m=0,w=0,v=0,y=1,E=0,S="STOP",N=250,L=new Date,b=new Date,M=new Date,k=new Date;k.setSeconds(-120);let R=[],D=[];const I=document.getElementById("information");function x(e,t,n=null){let i=document.createElement("div");i.classList.add("stats");let o=document.createElement("div");o.classList.add("stats-label"),o.textContent=e,i.appendChild(o);let r=document.createElement("div");r.classList.add("stats-value"),r.textContent=t,i.appendChild(r),n&&(i.title=n),I.appendChild(i)}function $(e){return"."==(tNumber=String(Math.round(100*e)/100)).slice(-2,-1)&&(tNumber+="0"),"."!=tNumber.slice(-3,-2)&&(tNumber+=".00"),tNumber}function T(){if("RUNNING"==S&&(k=new Date,S="GAMEOVER",s.style.width="0%",p(a,f),w)){let e=(k-b)/1e3;m=w/e,y=w?w/(w+v):1;let t=Math.floor(e/60);if(t>0){let n=Math.floor(e)%60;n<10&&(n="0"+n),x("time",`${t}:${n}`)}else x("time",$(e)+"s");if(x("clicks",String(w)),x("speed",$(m),"clicks per second"),x("accuracy",$(100*y)+"%",v+" misses"),I.classList.remove("hidden"),localStorage){let t=[];if(localStorage.records)try{t=JSON.parse(localStorage.records)}catch(e){delete localStorage.records}t.length>=0&&(t.push([k.getTime(),e,w,v].join(";")),localStorage.records=JSON.stringify(t))}}}function U(){if("RUNNING"!=S)return;let e=new Date;if((msClock=k-e)<=0)return T();if((e-b)/1e3>0){let e=k-M,t=100*msClock/e;s.style.width=t+"%",e>=6e4&&t<=25&&M.setMilliseconds(M.getMilliseconds()+6.5*e/10)}else s.style.width="0%";requestAnimationFrame(U)}function j(){let e=Math.floor(Math.random()*D.length),[t,n]=D[e].split(".");g(t,n,f),D.splice(e,1)}function C(e=!1){if(!(!e&&new Date-k<1500)){I.classList.add("hidden"),I.innerHTML="",D=[];for(let e=0;e<4;++e)for(let t=0;t<4;++t)D.push(`${t}.${e}`);p();for(let e=0;e<3;++e)j();m=0,w=0,v=0,E=0,y=1,S="RUNNING",N=250,b=new Date,M=new Date,(k=new Date).setSeconds(k.getSeconds()+32),L=b,R=[],requestAnimationFrame(U)}}function B(e){if(w+=1,"RUNNING"==S){let t,n;e&&(t=e.offsetX,n=e.offsetY,"TouchEvent"in window&&e instanceof TouchEvent&&(t=e.touches[0].clientX-l.offsetLeft,n=e.touches[0].clientY-l.offsetTop));let i=Math.floor((t-t%(u+0))/u),o=Math.floor((n-n%(u+0))/u);D.includes(`${i}.${o}`)||o>=4||i>=4?(k.setMilliseconds(k.getMilliseconds()-N),v+=1,E+=1):(k.setMilliseconds(k.getMilliseconds()+N),E=0,g(i,o,d),j(),D.push(`${i}.${o}`)),L=new Date,R.unshift(L),E>=4&&T(),N>200?N-=.8:N>166?N-=.125:N>142?N-=1/150:N>125&&(N-=.0016)}else C();window.getSelection?window.getSelection().removeAllRanges():document.selection&&document.selection.empty()}p(a,f);const O=document.getElementById("settings");O.querySelector("#toggle-bar").addEventListener("click",function(e){let t=parseInt(s.style.width);t+30>100?s.style.width="0%":s.style.width=String(t+30)+"%"}),O.querySelector("#toggle-info").addEventListener("click",function(e){I.innerHTML||(x("time","0s"),x("clicks","0"),x("speed","0"),x("accuracy",String(Math.floor(100*y))+"%")),I.classList.toggle("hidden")}),O.querySelector("#show-first-round").addEventListener("click",function(e){I.classList.add("hidden"),I.innerHTML="",D=[];for(let e=0;e<4;++e)for(let t=0;t<4;++t)D.push(`${t}.${e}`);p();for(let e=0;e<3;++e)j()}),l.addEventListener("touchstart",e=>(B(e),e.preventDefault(),!1)),l.addEventListener("mousedown",B),l.parentElement.addEventListener("contextmenu",e=>(e.preventDefault(),!1)),document.body.addEventListener("keydown",e=>{["Space","Escape"].includes(e.code)&&C(!0)}),window.addEventListener("resize",e=>{"RUNNING"!=S&&(h(),p(a,f))});var q={};q=o("jfr6k").getBundleURL("5iIeY")+"sw.js","serviceWorker"in navigator&&"file:"!=window.location.protocol&&navigator.serviceWorker.register(q);
//# sourceMappingURL=app.133662ae.js.map
